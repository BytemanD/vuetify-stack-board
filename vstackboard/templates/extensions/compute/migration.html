<v-row>
  <v-col></v-col>
  <v-col>
    <v-text-field small dense v-model="computing.migrationTable.search" append-icon="mdi-magnify" label="搜索" single-line hide-details></v-text-field>
  </v-col>
  <v-col cols="1" class="text-center">
    <v-btn fab x-small color="info" v-on:click="computing.migrationTable.refresh()" ><v-icon>mdi-refresh</v-icon></v-btn>
  </v-col>
</v-row>
<br>
<v-data-table dense show-expand single-expand :headers="computing .migrationTable.headers" :items="computing.migrationTable.items"
    :items-per-page="computing.migrationTable.itemsPerPage" :search="computing.migrationTable.search" class="elevation-1" v-model="computing.migrationTable.selected">
    <template v-slot:item.status="{ item }">
        <span class="red--text" v-if="item.status == 'failed'">[[ item.status ]]</span>
        <span class="green--text" v-else-if="item.status == 'completed'">[[ item.status ]]</span>
        <span v-else>[[ item.status ]]</span>
    </template>
    <template v-slot:item.created_at="{ item }"><v-span small>[[ UTILS.parseUTCToLocal(item.created_at) ]]</v-span></template>
    <template v-slot:expanded-item="{ headers, item }">
      <td></td>
      <td :colspan="headers.length -1" >
        <table>
          <template v-for="extendItem in computing.migrationTable.extendItems">
            <tr>
              <td><strong>[[extendItem.text ]]:</strong></td>
              <td>
                <span v-if="extendItem.value == 'updated_at'"> [[UTILS.parseUTCToLocal(item.updated_at)]] </span>
                <span v-else>[[ item[extendItem.value] || '空' ]]</span></td>
            </tr>
          </template>
        </table>
      </td>
    </template>
</v-data-table>
