
<v-dialog v-model="newServerDialog.show" width="900">
  <v-card>
    <v-card-title class="headline grey lighten-2" primary-title>新建实例</v-card-title>
    <v-card-text>
      <v-row>
        <v-col>
          <v-text-field label="*名字" placeholder="请输入实例名" v-model="newServerDialog.params.name" hide-details></v-text-field>
        </v-col>
        <v-col cols="2" class="my-auto">
          <v-btn text color="primary" @click="newServerDialog.params.name = UTILS.getRandomName('server')" hide-details>随机名字</v-btn>
        </v-col>
      </v-row>
      <v-row>
        <v-col cols="6">
          <v-select :items="newServerDialog.flavors" label="*规格" dense outlined hide-details :key="name"
                    item-text="name" item-value="id" v-model="newServerDialog.params.flavor">
            <template v-slot:selection="{ item }"> [[ item.name ]] </template>
          </v-select>
        </v-col>
        <v-col cols="6">
          <v-select :items="newServerDialog.images" label="*镜像" dense outlined hide-details
                    item-text="name" item-value="id" v-model="newServerDialog.params.image">
            <template v-slot:selection="{ item }"> [[ item.name ]] </template>
          </v-select>
        </v-col>
        <v-col cols="6">
          <v-select dense outlined hide-details :items="newServerDialog.azList" label="选择AZ" item-text="zoneName" 
                    v-model="newServerDialog.params.az">
            <template v-slot:selection="{ item }"> [[ item.zoneName ]] </template>
          </v-select>
        </v-col>
        <v-col cols="6">
          <v-select :items="newServerDialog.azHosts[newServerDialog.params.az]" label="选择节点" dense outlined hide-details
                    v-model="newServerDialog.params.host">
            <template v-slot:selection="{ item }"> [[ item ]] </template>
          </v-select>
        </v-col>
        <v-col cols="6">
          <v-select :items="newServerDialog.networks" label="网络" dense outlined hide-details
                    item-text="name" item-value="id" v-model="newServerDialog.params.netId">
            <template v-slot:selection="{ item }"> [[ item.name ]] </template>
          </v-select>
        </v-col>
      </v-row>
      <v-row>
      </v-row>
      <v-row>
        <v-col cols="6">
          <v-slider v-model="newServerDialog.params.nums" label="实例数量" class="align-center"
                    ticks="always" max="10" min="1" hide-details >
            <template v-slot:append ><v-chip label small>[[newServerDialog.params.nums]]</v-chip></template>
        </v-slider>
        </v-col>
      </v-row>
      <v-row>
        <v-col cols="3">
          <v-switch v-model="newServerDialog.params.useBdm" label="创建卷" hidde-details class="my-auto"></v-switch>
        </v-col>
        <v-col>
          <v-slider v-if="newServerDialog.params.useBdm" v-model="newServerDialog.params.volumeSize"
                    hidde-details class="my-auto" ticks="always" label="系统卷大小"
                    max="100" min="20" step="10">
             <template v-slot:append><v-chip label small>[[newServerDialog.params.volumeSize]] GB</v-chip></template>
          </v-slider>
        </v-col>
      </v-row>
    </v-card-text>
    <v-divider></v-divider>
    <v-card-actions>
      <v-spacer></v-spacer>
      <v-btn small color="primary" @click="newServerDialog.commit()">创建</v-btn>
    </v-card-actions>
  </v-card>
</v-dialog>
